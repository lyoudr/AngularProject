(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"Fxy/":function(l,t,n){"use strict";n.r(t);var e=n("CcnG"),o=function(){return function(){}}(),r=n("pMnS"),i=n("qAlS"),a=n("Fzqc"),c=n("dWZg"),u=e["\u0275crt"]({encapsulation:2,styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],data:{}});function s(l){return e["\u0275vid"](2,[e["\u0275qud"](402653184,1,{_contentWrapper:0}),(l()(),e["\u0275eld"](1,0,[[1,0],["contentWrapper",1]],null,1,"div",[["class","cdk-virtual-scroll-content-wrapper"]],null,null,null,null,null)),e["\u0275ncd"](null,0),(l()(),e["\u0275eld"](3,0,null,null,0,"div",[["class","cdk-virtual-scroll-spacer"]],[[4,"transform",null]],null,null,null,null))],null,function(l,t){l(t,3,0,t.component._totalContentSizeTransform)})}var d=n("mrSG"),p=n("XXB/"),g=n("YlbQ"),v=n("26FU"),f=n("pugT"),h=function(){return function(l){this.restaurantService=l,this.ds=new m(this.restaurantService)}}(),m=function(l){function t(t){var n=l.call(this)||this;return n.restaurantService=t,n.pageSize=1e4,n.initialData=[{o_tlc_agency_address:"\u81fa\u5317\u5e02\u5167\u6e56\u5340\u6587\u6e56\u885715\u865f",o_tlc_agency_admincategory:"",o_tlc_agency_category:"1",o_tlc_agency_categorychild:"\u5c0f\u5b78",o_tlc_agency_email:"",o_tlc_agency_fax:"(02)2799-4445",o_tlc_agency_img_front:"",o_tlc_agency_img_inner:"",o_tlc_agency_link:"http://www.whups.tp.edu.tw",o_tlc_agency_name:"\u81fa\u5317\u5e02\u5167\u6e56\u5340\u6587\u6e56\u570b\u6c11\u5c0f\u5b78",o_tlc_agency_opentime:"",o_tlc_agency_phone:"(02)2658-3515",o_tlc_agency_purpose:"",o_tlc_agency_region:"8",o_tlc_agency_service:"",_id:100}],n.fetchedPages=new Set,n.dataStream=new v.a(n.initialData),n.subscription=new f.a,n}return d.__extends(t,l),t.prototype.connect=function(l){var t=this;return this.subscription.add(l.viewChange.subscribe(function(l){console.log(l.start),console.log(l.end);for(var n=t.getPageForIndex(l.start),e=t.getPageForIndex(l.end-1),o=n;o<=e;o++)t.fetchPage(o)})),this.dataStream},t.prototype.disconnect=function(){this.subscription.unsubscribe()},t.prototype.getPageForIndex=function(l){return Math.floor(l/this.pageSize)},t.prototype.fetchPage=function(l){var t=this;this.fetchedPages.has(l)||(this.fetchedPages.add(l),this.restaurantService.GetBigData().subscribe(function(l){console.log("data.result.results is =>",l.result.results),t.dataStream.next(l.result.results)}))},t}(g.b),k=e["\u0275crt"]({encapsulation:0,styles:[".example-viewport[_ngcontent-%COMP%] { height: 200px; width: 50%;border: 1px solid black;} .example-item[_ngcontent-%COMP%] {height: 50px;}"],data:{}});function _(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","example-item"]],null,null,null,null,null)),(l()(),e["\u0275ted"](1,null,[" "," "]))],null,function(l,t){l(t,1,0,t.context.$implicit.SBMNAME||"Loading...")})}function w(l){return e["\u0275vid"](2,[(l()(),e["\u0275eld"](0,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","example-viewport cdk-virtual-scroll-viewport"],["itemSize","50"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,s,u)),e["\u0275prd"](6144,null,i.b,null,[i.d]),e["\u0275did"](2,540672,null,0,i.a,[],{itemSize:[0,"itemSize"]},null),e["\u0275prd"](1024,null,i.i,i.k,[i.a]),e["\u0275did"](4,245760,null,0,i.d,[e.ElementRef,e.ChangeDetectorRef,e.NgZone,[2,i.i],[2,a.b],i.f],null,null),(l()(),e["\u0275and"](16777216,null,0,1,null,_)),e["\u0275did"](6,409600,null,0,i.c,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers,[1,i.d],e.NgZone],{cdkVirtualForOf:[0,"cdkVirtualForOf"],cdkVirtualForTemplateCacheSize:[1,"cdkVirtualForTemplateCacheSize"]},null)],function(l,t){var n=t.component;l(t,2,0,"50"),l(t,4,0),l(t,6,0,n.ds,0)},function(l,t){l(t,0,0,"horizontal"===e["\u0275nov"](t,4).orientation,"horizontal"!==e["\u0275nov"](t,4).orientation)})}var b=n("Ip0R"),y=function(){function l(){this.TextAreaMessage=[]}return l.prototype.ngOnInit=function(){this.socket=new WebSocket("ws://127.0.0.1:8080","echo-protocol"),this.socket.onopen=function(){console.log("connect to websocket")},this.socket.onerror=function(l){console.log("WebSocket error : "+l)}},l.prototype.ConnectWebSocket=function(l,t){var n=this;console.log("Inserted data is =>",l),this.socket.send(JSON.stringify({name:t,message:l})),this.socket.onerror=function(l){console.log("WebSocket error : "+l)},this.socket.onmessage=function(l){console.log("Received data from server is =>",l.data);var t=JSON.parse(l.data);n.TextAreaMessage.push({Name:t.name,Message:t.message})}},l}(),S=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function F(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e["\u0275ted"](1,null,[" ",": "," "]))],null,function(l,t){l(t,1,0,t.context.$implicit.Name,t.context.$implicit.Message)})}function x(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" big-data works!\n"])),(l()(),e["\u0275eld"](2,0,null,null,1,"app-cdkvirtualscroll",[],null,null,null,w,k)),e["\u0275did"](3,49152,null,0,h,[p.a],null,null),(l()(),e["\u0275eld"](4,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,F)),e["\u0275did"](6,278528,null,0,b.j,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275ted"](-1,null,[" Name: "])),(l()(),e["\u0275eld"](8,0,[["Name",1]],null,0,"input",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Chat Area"])),(l()(),e["\u0275eld"](10,0,[["Chat",1]],null,0,"input",[],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,1,"button",[["id","btn"]],null,[[null,"click"]],function(l,t,n){var o=!0;return"click"===t&&(o=!1!==l.component.ConnectWebSocket(e["\u0275nov"](l,10).value,e["\u0275nov"](l,8).value)&&o),o},null,null)),(l()(),e["\u0275ted"](-1,null,["Send"]))],function(l,t){l(t,6,0,t.component.TextAreaMessage)},null)}function C(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-big-data",[],null,null,null,x,S)),e["\u0275did"](1,114688,null,0,y,[],null,null)],function(l,t){l(t,1,0)},null)}var z=e["\u0275ccf"]("app-big-data",y,C,{},{},[]),V=n("ZYCi"),M={title:"BigData"},R=function(){return function(){}}();n.d(t,"BigDataModuleNgFactory",function(){return N});var N=e["\u0275cmf"](o,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,z]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,b.m,b.l,[e.LOCALE_ID,[2,b.A]]),e["\u0275mpd"](1073742336,b.c,b.c,[]),e["\u0275mpd"](1073742336,a.a,a.a,[]),e["\u0275mpd"](1073742336,c.b,c.b,[]),e["\u0275mpd"](1073742336,i.g,i.g,[]),e["\u0275mpd"](1073742336,i.e,i.e,[]),e["\u0275mpd"](1073742336,V.p,V.p,[[2,V.v],[2,V.l]]),e["\u0275mpd"](1073742336,R,R,[]),e["\u0275mpd"](1073742336,o,o,[]),e["\u0275mpd"](1024,V.j,function(){return[[{path:"",component:y,data:M}]]},[])])})}}]);